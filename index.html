<!DOCTYPE html>
<html lang="ja">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PSK6V5K');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    
    <!-- Swiper JS -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3JQJ50606G"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-3JQJ50606G');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MP3ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚¢ãƒ—ãƒª - ãŠæ°—ã«å…¥ã‚Šã®éŸ³æ¥½ã‚’è´ã„ãŸã‚Šç®¡ç†ã—ãŸã‚Šã§ãã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹">
    <title>ãƒœãƒ¼ã‚«ãƒ«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³</title>
    <style>
        :root {
            /* Netflix inspired color palette */
            --netflix-black: #141414;
            --netflix-dark: #181818;
            --netflix-darker: #0f0f0f;
            --netflix-grey: #808080;
            --netflix-light-grey: #b3b3b3;
            --netflix-lighter-grey: #e5e5e5;
            --netflix-red: #E50914;
            --netflix-red-hover: #f40612;
            --netflix-red-active: #b2070e;
            
            /* Spacing */
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-xxl: 3rem;
            
            /* Layout */
            --border-radius-sm: 4px;
            --border-radius-md: 8px;
            --border-radius-lg: 12px;
            
            /* Transitions */
            --transition-speed: 0.2s;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #111;
            color: #fff;
            line-height: 1.5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden; /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ç„¡åŠ¹åŒ– */
            width: 100%;
            max-width: 100vw; /* ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆå¹…ã‚’è¶…ãˆãªã„ */
        }
        
        /* Loading Spinner Styles */
        #loading-spinner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .netflix-loader {
            margin-bottom: 20px;
            position: relative;
        }
        
        .netflix-logo {
            position: relative;
            width: 400px; /* 300pxã‹ã‚‰æ‹¡å¤§ */
            height: 120px; /* é«˜ã•ã‚‚ç¢ºä¿ */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: visible; /* ãƒ†ã‚­ã‚¹ãƒˆãŒã¯ã¿å‡ºã—ã¦ã‚‚è¡¨ç¤º */
            animation: netflix-intro 1.5s ease-out forwards;
            margin: 0 auto; /* ä¸­å¤®æƒãˆ */
        }

        /* ãƒ­ã‚´ã‚’å®Œå…¨ã«è¡¨ç¤ºã•ã‚Œã‚‹ãŸã‚ã«å¹…ã‚’èª¿æ•´ */
        .netflix-logo-text {
            color: var(--netflix-red);
            font-size: 3rem; /* ã‚µã‚¤ã‚ºèª¿æ•´ */
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: -1px; /* æ–‡å­—é–“éš”ã‚’ã•ã‚‰ã«ç¸®ã‚ã‚‹ */
            position: relative;
            display: inline-block;
            text-shadow: 0 0 10px rgba(229, 9, 20, 0.5);
            background: linear-gradient(
                90deg, 
                var(--netflix-red) 0%, 
                #ff3348 45%,
                #fff 50%, 
                #ff3348 55%, 
                var(--netflix-red) 100%
            );
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-fill-color: transparent;
            animation: netflixShine 3s ease-in-out infinite;
            white-space: nowrap; /* æ”¹è¡Œã•ã›ãªã„ */
            width: 400px; /* æ˜ç¤ºçš„ã«å¹…ã‚’å›ºå®š */
        }

        /* ãƒ­ã‚´ã®æ–‡å­—ã‚’ä¸€æ–‡å­—ãšã¤ç¾ã‚Œã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes netflix-text-reveal {
            0% {
                width: 0;
                opacity: 0;
            }
            20% {
                width: 0;
                opacity: 1;
            }
            100% {
                width: 100%;
                opacity: 1;
            }
        }

        /* ãƒ­ã‚´ã®ã‚³ãƒ³ãƒ†ãƒŠã®è¨­å®š */
        .netflix-logo-container {
            position: relative;
            overflow: visible; /* é‡è¦: hiddenã‹ã‚‰visibleã«å¤‰æ›´ */
            display: inline-block;
            width: 400px; /* ã‚³ãƒ³ãƒ†ãƒŠå¹…ã‚’å›ºå®š */
        }

        /* éŸ³ç¬¦ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .music-note {
            display: inline-block;
            opacity: 0;
            font-size: 3rem; /* éŸ³ç¬¦ã®ã‚µã‚¤ã‚ºã‚’å¤§ãã */
            animation: fadeInNote 0.8s ease 3.2s forwards; /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ—©ãé–‹å§‹ */
            transform: translateY(5px) scale(0.8);
            vertical-align: middle;
            margin-left: 5px;
        }

        /* éŸ³ç¬¦ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes fadeInNote {
            0% {
                opacity: 0;
                transform: translateY(5px) scale(0.8);
            }
            50% {
                opacity: 0.7;
                transform: translateY(-10px) scale(1.2);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* ä¸€æ–‡å­—ãšã¤è¡¨ç¤ºã•ã‚Œã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
        .netflix-logo-container::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            animation: netflix-text-reveal 4s cubic-bezier(0.77, 0, 0.18, 1) forwards; /* 2.5ç§’ã‹ã‚‰4ç§’ã«å»¶é•· */
            transform-origin: right;
        }
        
        /* Chromeã€Safariå‘ã‘ã®Fallback */
        @supports not (background-clip: text) {
            .netflix-logo-text {
                color: var(--netflix-red);
                -webkit-text-fill-color: var(--netflix-red);
                text-fill-color: var(--netflix-red);
                animation: netflixPulse 2s ease-in-out infinite; /* 3ç§’ã‹ã‚‰2ç§’ã«çŸ­ç¸® */
            }
            
            @keyframes netflixPulse {
                0%, 100% {
                    opacity: 1;
                }
                50% {
                    opacity: 0.7;
                }
            }
        }
        
        /* å…‰ãŒæ¨ªã«æµã‚Œã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes netflixShine {
            0% {
                background-position: -100% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }
        
        /* ãƒ­ã‚´ãŒæ‹¡å¤§ã™ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes netflix-intro {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }
            20% {
                transform: scale(1.1);
                opacity: 1;
            }
            35% {
                transform: scale(0.95);
            }
            50% {
                transform: scale(1);
            }
            100% {
                transform: scale(1);
            }
        }
        
        /* æ¨ªã®èµ¤ç·šã‚’å‰Šé™¤ */
        .netflix-logo::before, .netflix-logo::after {
            display: none;
        }
        
        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã¯æ®‹ã—ã¦ãŠããŒä½¿ç”¨ã—ãªã„ */
        @keyframes netflix-line {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(0);
            }
        }
        
        #loading-spinner .loading-text {
            color: var(--netflix-light-grey);
            font-size: 1.2rem;
            margin-top: 20px;
            opacity: 0;
            animation: fadeIn 0.5s 6s forwards; /* 5ç§’ã‹ã‚‰6ç§’ã«å»¶é•· */
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        header {
            background-color: var(--netflix-darker);
            padding: var(--space-md) var(--space-xl);
            position: static;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--netflix-red);
            text-decoration: none;
        }
        
        main {
            flex: 1;
            padding: var(--space-lg) var(--space-xl);
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
            box-sizing: border-box; /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’å«ã‚ãŸã‚µã‚¤ã‚ºã« */
        }
        
        .content-header {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: var(--space-md);
            text-align: center;
        }
        
        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0;
            text-align: center;
            color: var(--netflix-red);
        }
        
        .description {
            font-size: 0.9rem;
            color: var(--netflix-light-grey);
            margin: var(--space-sm) 0 var(--space-lg);
            text-align: center;
        }
        
        /* MP3 List Styles */
        #mp3-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 700px;
            margin: 0 auto;
            width: 100%;
        }
        
        /* Carousel Styles */
        .carousel-section {
            position: relative;
            margin-bottom: 40px;
            width: 100%;
            padding: 0;
            overflow: hidden; /* visible ã‹ã‚‰ hidden ã«å¤‰æ›´ */
            background-color: #000;
        }
        
        .swiper-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            padding: 40px 0 20px;
            overflow: hidden; /* visible ã‹ã‚‰ hidden ã«å¤‰æ›´ */
        }
        
        .swiper-wrapper {
            display: flex;
            transition: transform 0.5s ease-in-out;
            padding: 10px 0;
            padding-left: 0;
        }
        
        .swiper-slide {
            height: 280px;
            position: relative;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease;
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            opacity: 0.8;
            width: 400px;
            max-width: 90vw; /* ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã®90%ã‚’è¶…ãˆãªã„ã‚ˆã†ã« */
        }
        
        .swiper-slide-active {
            opacity: 1;
            transform: translateY(-10px) scale(1.05);
            z-index: 2;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        }
        
        .swiper-slide-prev, 
        .swiper-slide-next {
            opacity: 0.9;
            z-index: 1;
        }
        
        .swiper-slide-visible {
            opacity: 1;
        }
        
        .radius101000 {
            border-radius: 16px;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .carousel-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            border-radius: 16px;
            transition: all 0.3s ease;
        }
        
        .carousel-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            top: 0;
            padding: 0;
            background: linear-gradient(to bottom, 
                rgba(0, 0, 0, 0) 0%,
                rgba(0, 0, 0, 0) 40%, 
                rgba(0, 0, 0, 0.7) 100%);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            border-radius: 16px;
        }
        
        .carousel-content {
            position: absolute;
            right: auto;
            bottom: 20px;
            left: 20px;
            display: flex;
            align-items: center;
            padding: 0;
            width: calc(100% - 40px); /* å·¦å³ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’è€ƒæ…®ã—ãŸã‚µã‚¤ã‚º */
        }
        
        .carousel-play-button {
            background-color: rgba(255, 255, 255, 0.9);
            color: var(--netflix-red);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex !important;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 16px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, background-color 0.3s ease;
            flex-shrink: 0;
            order: 0;
            margin-right: 10px;
            margin-left: 0;
        }
        
        .carousel-title {
            font-weight: bold;
            font-size: 1rem;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            max-width: calc(100% - 60px);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            order: 1;
            font-family: 'Courier New', monospace; /* ç­‰å¹…ãƒ•ã‚©ãƒ³ãƒˆã«å¤‰æ›´ */
            letter-spacing: -0.5px; /* æ–‡å­—é–“ã‚’è©°ã‚ã‚‹ */
        }
        
        .carousel-prev,
        .carousel-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            transition: background-color 0.3s ease, transform 0.2s ease;
            opacity: 0.7;
        }
        
        .carousel-prev:hover,
        .carousel-next:hover {
            background-color: rgba(0, 0, 0, 0.8);
            transform: translateY(-50%) scale(1.1);
            opacity: 1;
        }
        
        .carousel-prev {
            left: 10px;
        }
        
        .carousel-next {
            right: 10px;
        }
        
        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .carousel-dot.active {
            background-color: var(--netflix-red);
            transform: scale(1.2);
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0 !important;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 8px;
            height: 8px;
            background-color: rgba(255, 255, 255, 0.3);
            opacity: 1;
        }
        
        .swiper-pagination-bullet-active {
            background-color: var(--netflix-red);
            transform: scale(1.2);
        }
        
        /* MP3 Item styles */
        .mp3-item {
            position: relative;
            border-radius: 8px;
            overflow: visible; /* ç•ªå·ãŒã¯ã¿å‡ºã›ã‚‹ã‚ˆã†ã«overflowã‚’visibleã«å¤‰æ›´ */
            background-color: #141414;
            display: flex;
            padding: 12px;
            min-height: 170px;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            border: 1px solid #333;
            justify-content: flex-start;
            align-items: center;
            margin-bottom: 15px;
            width: 100%;
            padding-left: 30px; /* å·¦å´ã®ä½™ç™½ã‚’å°‘ãªãã—ã¦ç•ªå·ã‚’æ ã®å¤–ã« */
            box-sizing: border-box; /* ãƒœãƒƒã‚¯ã‚¹ã‚µã‚¤ã‚ºã‚’ç¢ºå®Ÿã«è¨­å®š */
        }
        
        .mp3-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.4);
        }
        
        .mp3-number-display {
            position: absolute;
            left: -22px; /* å·¦ã«ã¯ã¿å‡ºã™ã‚ˆã†ã«è¨­å®š */
            top: 50%;
            transform: translateY(-50%);
            background-color: #e50914;
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 22px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
            z-index: 2;
        }
        
        /* æœ€åˆã®ã‚¢ã‚¤ãƒ†ãƒ ç‰¹æœ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« - ç·‘è‰²ã®æ ã‚’å‰Šé™¤ */
        .mp3-item:first-child {
            position: relative;
            /* åˆæœŸè¡¨ç¤ºã§ã®ç·‘ã®æ ã‚’å‰Šé™¤ */
            border: 1px solid #333; /* ä»–ã®ã‚¢ã‚¤ãƒ†ãƒ ã¨åŒã˜ãƒœãƒ¼ãƒ€ãƒ¼ã« */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* ä»–ã®ã‚¢ã‚¤ãƒ†ãƒ ã¨åŒã˜å½±ã« */
        }
        
        .mp3-item:first-child .mp3-number-display {
            /* ç·‘è‰²èƒŒæ™¯ã‚’å‰Šé™¤ã—ã€ã™ã¹ã¦èµ¤è‰²ã«çµ±ä¸€ */
            background-color: #e50914;
        }
        
        .mp3-thumbnail {
            position: absolute;
            left: 15px; /* ã‚µãƒ ãƒã‚¤ãƒ«ã®ä½ç½®ã‚’èª¿æ•´ */
            top: 0;
            width: 170px; /* å¹…ã‚’èª¿æ•´ */
            height: 100%;
            z-index: 0;
        }
        
        .mp3-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.8;
        }
        
        .mp3-thumbnail .no-image {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #777;
            background-color: #222;
        }
        
        .mp3-content {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 15px 5px 15px 15px;
            margin-left: 190px; /* ã‚µãƒ ãƒã‚¤ãƒ«å¹…ã«åˆã‚ã›ã¦èª¿æ•´ */
            margin-right: 10px;
            max-width: none; /* æœ€å¤§å¹…ã®åˆ¶é™ã‚’å‰Šé™¤ */
            width: calc(100% - 200px); /* ã‚µãƒ ãƒã‚¤ãƒ«+ãƒãƒ¼ã‚¸ãƒ³åˆ†ã‚’å¼•ã„ãŸå¹…ã«ã™ã‚‹ */
            flex-grow: 1; /* åˆ©ç”¨å¯èƒ½ãªã‚¹ãƒšãƒ¼ã‚¹ã„ã£ã±ã„ã«åºƒãŒã‚‹ */
        }
        
        .mp3-title {
            font-weight: bold;
            font-size: 22px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            margin-bottom: 20px;
            color: #fff;
            width: 100%;
            text-align: left;
        }
        
        .button-container {
            display: flex;
            gap: 15px; /* ãƒœã‚¿ãƒ³é–“ã®é–“éš”ã‚’å¢—ã‚„ã™ */
            justify-content: flex-start;
            width: 100%;
            flex-wrap: wrap; /* å°ã•ã„ç”»é¢ã§æŠ˜ã‚Šè¿”ã™ã‚ˆã†ã«ã™ã‚‹ */
        }
        
        /* Ribbon Effect */
        .ribbon-wrapper {
            position: absolute;
            top: 0;
            right: 0;
            z-index: 3;
            overflow: hidden;
            width: 80px;
            height: 80px;
        }
        
        .ribbon {
            position: absolute;
            top: 20px;
            right: -28px;
            padding: 0;
            width: 120px;
            background: #e50914;
            color: #fff;
            text-align: center;
            font-weight: bold;
            font-size: 11px;
            line-height: 18px;
            transform: rotate(45deg);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            text-shadow: 0 1px 1px rgba(0,0,0,0.2);
            border: 1px solid rgba(180, 8, 8, 0.5);
        }
        
        .ribbon:before {
            content: "å…ˆç€ä¸€åé™å®š";
        }
        
        .play-btn, .download-button {
            padding: 0 10px; /* å·¦å³ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¿½åŠ  */
            height: 42px; /* é«˜ã•ã‚’å°‘ã—å¤§ãã */
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            border: none;
            font-size: 14px;
            transition: background-color 0.3s ease;
            cursor: pointer;
        }
        
        .play-btn {
            background-color: #2196F3; /* æ˜ã‚‹ã„é’è‰² */
            width: 120px;
        }
        
        .play-btn:hover {
            background-color: #1976D2; /* ãƒ›ãƒãƒ¼æ™‚ã¯å°‘ã—æš—ã„é’è‰² */
        }
        
        .download-button {
            background-color: #4CAF50; /* æ˜ã‚‹ã„ç·‘è‰² */
            width: 170px; /* ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã‚’ã•ã‚‰ã«åºƒã */
        }
        
        .download-button:hover {
            background-color: #388E3C; /* ãƒ›ãƒãƒ¼æ™‚ã¯å°‘ã—æš—ã„ç·‘è‰² */
        }
        
        .play-btn i, .download-button i {
            font-size: 1rem;
            margin-right: 8px; /* ã‚¢ã‚¤ã‚³ãƒ³ã¨ãƒ†ã‚­ã‚¹ãƒˆã®é–“éš”ã‚’èª¿æ•´ */
        }
        
        .no-items {
            text-align: center;
            padding: 20px;
            color: #999;
        }
        
        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: var(--space-xl);
            gap: var(--space-md);
        }
        
        .page-info {
            color: var(--netflix-light-grey);
            font-size: 18px; /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å¤§ãã */
            padding: 0 20px; /* å·¦å³ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’å¢—åŠ  */
        }
        
        .pagination-btn {
            padding: 16px 24px; /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’2å€ã« */
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            border-radius: 8px; /* è§’ä¸¸ã‚’å¤§ãã */
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease; /* ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ  */
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 80px; /* æœ€å°å¹…ã‚’2å€ã« */
            font-size: 18px; /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å¤§ãã */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* å½±ã‚’è¿½åŠ  */
        }
        
        .pagination-btn:hover:not([disabled]) {
            background-color: var(--netflix-red);
            transform: translateY(-2px); /* ãƒ›ãƒãƒ¼æ™‚ã«å°‘ã—æµ®ãä¸ŠãŒã‚‹åŠ¹æœ */
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* å½±ã‚’å¼·èª¿ */
        }
        
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* ä¿®æ­£ï¼šprevPageBtnã¨nextPageBtnã«pagination-btnã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #prev-page, #next-page {
            font-size: 16px;
            width: 120px; /* å¹…ã‚’æ˜ç¤ºçš„ã«è¨­å®š */
            height: 60px; /* é«˜ã•ã‚’æ˜ç¤ºçš„ã«è¨­å®š */
            border-radius: 8px;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        #prev-page:hover:not([disabled]), 
        #next-page:hover:not([disabled]) {
            background-color: var(--netflix-red);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        
        #prev-page:disabled, 
        #next-page:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Footer */
        footer {
            background-color: var(--netflix-darker);
            padding: var(--space-xl) var(--space-xl) var(--space-lg);
            margin-top: auto;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            gap: var(--space-xl);
        }
        
        .footer-section {
            max-width: 600px;
            width: 100%;
        }
        
        .footer-section h3 {
            color: var(--netflix-lighter-grey);
            margin-bottom: var(--space-md);
            font-size: 1.1rem;
        }
        
        .footer-section p {
            color: var(--netflix-grey);
            font-size: 0.9rem;
            margin-bottom: var(--space-md);
        }
        
        .footer-bullet-list {
            list-style: disc !important;
            display: block !important;
            padding-left: 1.5rem;
        }
        
        .footer-bullet-list li {
            margin-bottom: 0.75rem;
            color: var(--netflix-light-grey);
            font-size: 0.9rem;
        }
        
        .footer-section li {
            margin-bottom: var(--space-sm);
        }
        
        .footer-section a {
            color: var(--netflix-grey);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color var(--transition-speed);
        }
        
        .footer-section a:hover {
            color: var(--netflix-lighter-grey);
            text-decoration: underline;
        }
        
        .copyright {
            text-align: center;
            margin-top: var(--space-xl);
            padding-top: var(--space-md);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--netflix-grey);
            font-size: 0.8rem;
        }
        
        /* Notification styles */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: var(--space-md) var(--space-lg);
            background-color: var(--netflix-dark);
            color: var(--netflix-lighter-grey);
            border-radius: var(--border-radius-sm);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            transform: translateY(30px);
            opacity: 0;
            transition: transform 0.3s, opacity 0.3s;
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notification.success {
            background-color: #2E7D32;
        }
        
        .notification.error {
            background-color: var(--netflix-red);
        }
        
        .notification.info {
            background-color: #0277BD;
        }
        
        /* MP3 Card Now Playing Styles */
        .mp3-card.now-playing, .mp3-item.now-playing {
            border: 2px solid #4CAF50 !important; /* !important ã‚’è¿½åŠ ã—ã¦ä»–ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä¸Šæ›¸ã */
            background-color: rgba(76, 175, 80, 0.05);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1) !important; /* !important ã‚’è¿½åŠ ã—ã¦ä»–ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä¸Šæ›¸ã */
        }
        
        .mp3-card.now-playing .mp3-card-title, .mp3-item.now-playing .mp3-title {
            color: #4CAF50;
            font-weight: bold;
        }
        
        /* Now Playing Styles */
        .now-playing-header {
            display: none;
            background: #f0f8ff;
            padding: 10px 15px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 5px solid #4CAF50;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .now-playing-content {
            display: flex;
            align-items: center;
        }
        
        .now-playing-label {
            font-weight: bold;
            margin-right: 10px;
            color: #4CAF50;
        }
        
        .now-playing-title {
            font-style: italic;
            color: #333;
            flex: 1;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        /* MP3 Item and Card Now Playing Styles */
        .mp3-card.now-playing, .mp3-item.now-playing {
            border: 2px solid #4CAF50 !important; /* !important ã‚’è¿½åŠ ã—ã¦ä»–ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä¸Šæ›¸ã */
            background-color: rgba(76, 175, 80, 0.05);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1) !important; /* !important ã‚’è¿½åŠ ã—ã¦ä»–ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä¸Šæ›¸ã */
        }
        
        .mp3-card.now-playing .mp3-card-title, 
        .mp3-item.now-playing .mp3-title {
            color: #4CAF50;
            font-weight: bold;
        }
        
        /* MP3ã‚«ãƒ¼ãƒ‰ãŒå†ç”Ÿä¸­ã®å ´åˆã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .mp3-card.now-playing {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ */
        @media (max-width: 768px) {
            header, main, footer {
                padding: var(--space-md);
            }
            
            .mp3-item {
                flex-direction: column;
                height: auto;
                min-height: auto;
                padding: 0 0 15px 0; /* ä¸Šä¸‹å·¦å³ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’èª¿æ•´ */
                overflow: visible;
            }
            
            .mp3-number-display {
                left: 10px;
                top: 15px;
                transform: none;
                z-index: 5; /* ã‚µãƒ ãƒã‚¤ãƒ«ä¸Šã«ç¢ºå®Ÿã«è¡¨ç¤º */
            }
            
            .mp3-thumbnail {
                position: relative;
                width: 100%;
                height: 220px; /* ã‚µãƒ ãƒã‚¤ãƒ«ã‚’å°‘ã—å¤§ãã */
                margin-bottom: 15px; /* ã‚µãƒ ãƒã‚¤ãƒ«ã®ä¸‹ã«ãƒãƒ¼ã‚¸ãƒ³è¿½åŠ  */
                left: 0;
            }
            
            /* ãƒªãƒœãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ (PCã¨åŒã˜ã‚¹ã‚¿ã‚¤ãƒ«ã«) */
            .mp3-thumbnail .ribbon-wrapper {
                display: block;
                position: absolute;
                width: 100px; /* å¹…ã‚’å¤§ãã */
                height: 100px; /* é«˜ã•ã‚’å¤§ãã */
                overflow: hidden;
                top: 0;
                right: 0;
                z-index: 3;
            }
            
            .ribbon {
                position: absolute;
                top: 25px; /* ä½ç½®èª¿æ•´ */
                right: -30px; /* ä½ç½®èª¿æ•´ */
                width: 150px; /* å¹…ã‚’å¤§ãã */
                background: #e50914;
                color: #fff;
                text-align: center;
                font-weight: bold;
                font-size: 14px; /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å¤§ãã */
                line-height: 24px; /* è¡Œã®é«˜ã•ã‚’å¤§ãã */
                transform: rotate(45deg);
                box-shadow: 0 3px 7px rgba(0,0,0,0.3); /* å½±ã‚’å¼·ã */
                text-shadow: 0 1px 1px rgba(0,0,0,0.3);
                border: 1px solid rgba(180, 8, 8, 0.5);
                max-width: none;
                margin: 0;
                border-radius: 0;
            }
            
            .ribbon:before {
                content: "å…ˆç€ä¸€åé™å®š"; /* å…ƒã®å†…å®¹ã«æˆ»ã™ */
            }
            
            /* ãƒœã‚¿ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®èª¿æ•´ */
            .button-container {
                position: relative; /* ãƒªãƒœãƒ³ã®é…ç½®ã®åŸºæº–ç‚¹ */
                padding-right: 40px; /* ãƒªãƒœãƒ³ã®ãŸã‚ã®ã‚¹ãƒšãƒ¼ã‚¹ */
                margin-bottom: 20px; /* ä¸‹éƒ¨ã«ä½™ç™½ã‚’è¿½åŠ  */
            }
            
            /* ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã®èª¿æ•´ */
            .download-button {
                position: relative; /* ãƒªãƒœãƒ³ã¨ã®é–¢ä¿‚ã‚’è¨­å®š */
                z-index: 2; /* ãƒªãƒœãƒ³ã®ä¸‹ã«ãªã‚‰ãªã„ã‚ˆã†ã« */
            }
            
            /* ãƒœã‚¿ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®èª¿æ•´ */
            .mp3-content {
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            
            .button-container {
                position: relative;
                width: 100%;
                display: flex;
                flex-direction: column;
                align-items: center;
            }
        }
        
        /* ã•ã‚‰ã«å°ã•ã„ç”»é¢å‘ã‘ */
        @media (max-width: 480px) {
            header, main, footer {
                padding: var(--space-sm);
            }
            
            .mp3-thumbnail {
                height: 180px; /* å°ã•ã„ç”»é¢ç”¨ã«ã‚µãƒ ãƒã‚¤ãƒ«ã‚’å°ã•ã */
            }
            
            .mp3-title {
                font-size: 18px;
            }
            
            .mp3-number-display {
                width: 40px;
                height: 40px;
                font-size: 18px;
                left: 5px;
                top: 10px;
            }
            
            .play-btn, .download-button {
                width: 90%; /* å°ã•ã„ç”»é¢ã§ã¯å¹…ã‚’åºƒã’ã‚‹ */
            }
            
            /* è¶…å°å‹ç”»é¢ç”¨ã®ãƒªãƒœãƒ³èª¿æ•´ */
            .mp3-thumbnail .ribbon-wrapper {
                width: 90px;
                height: 90px;
            }
            
            .ribbon {
                top: 22px;
                right: -30px;
                width: 140px;
                font-size: 13px;
                line-height: 22px;
            }
            
            .netflix-logo-text {
                font-size: 2.5rem; /* å°ã•ã„ç”»é¢ã§ã¯æ–‡å­—ã‚µã‚¤ã‚ºã‚’ç¸®å° */
                width: 350px;
                text-align: center; /* ã‚¹ãƒãƒ›è¡¨ç¤ºã§ã‚‚ä¸­å¤®æƒãˆ */
                margin: 0 auto; /* ä¸­å¤®æƒãˆã®ãŸã‚å·¦å³ãƒãƒ¼ã‚¸ãƒ³ã‚’è‡ªå‹•ã« */
            }
            
            .netflix-logo,
            .netflix-logo-container {
                width: 350px;
                display: flex; /* ãƒ•ãƒ¬ãƒƒã‚¯ã‚¹ãƒœãƒƒã‚¯ã‚¹ã‚’ä½¿ç”¨ */
                justify-content: center; /* ä¸­å¤®æƒãˆ */
                margin: 0 auto; /* ä¸­å¤®æƒãˆã®ãŸã‚ã«å·¦å³ãƒãƒ¼ã‚¸ãƒ³ã‚’è‡ªå‹•ã« */
                text-align: center; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸­å¤®æƒãˆ */
            }
        }
        
        .mp3-card-thumbnail {
            height: auto;
            width: 280px;
            position: relative;
            overflow: hidden;
        }
        
        .mp3-card-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .mp3-card-number {
            position: absolute;
            top: 15px;
            left: 15px;
            background-color: #e50914;
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 22px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            z-index: 2;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .mp3-card-number:hover {
            background-color: #ff0a16;
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }
        
        .mp3-card-number-edit {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 45px;
            height: 45px;
            z-index: 3;
            display: none;
        }
        
        .mp3-card-number-edit input {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid #ff0a16;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            text-align: center;
            font-weight: bold;
            font-size: 16px;
            padding: 0;
            box-shadow: 0 0 10px rgba(255, 10, 22, 0.5);
            transition: all 0.2s ease;
        }
        
        .mp3-card-number-edit input:focus {
            outline: none;
            box-shadow: 0 0 15px rgba(255, 10, 22, 0.7);
            border: 2px solid #ff3b44;
        }
        
        .mp3-card-info {
            padding: 20px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            justify-content: space-between;
        }
        
        .mp3-card-meta {
            font-size: 12px;
            color: #aaa;
            margin-bottom: 15px;
        }
        
        .mp3-card-buttons {
            display: flex;
            gap: 10px;
        }

        /* Custom styles */
        .mp3-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: flex-start;
        }

        .mp3-card {
            display: flex;
            flex-direction: column;
            width: calc(33.33% - 20px);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease;
        }

        .mp3-card:hover {
            transform: translateY(-5px);
        }

        .mp3-card-thumbnail {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .mp3-card-info {
            padding: 20px;
            flex-grow: 1;
        }

        .mp3-card-title {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
        }

        .mp3-card-description {
            color: #777;
            font-size: 14px;
        }

        .mp3-card-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
        }

        .play-btn, .download-button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
        }

        .play-btn {
            background-color: #2196F3; /* æ˜ã‚‹ã„é’è‰² */
            color: white;
        }

        .play-btn:hover {
            background-color: #1976D2; /* ãƒ›ãƒãƒ¼æ™‚ã¯å°‘ã—æš—ã„é’è‰² */
        }

        .download-button {
            background-color: #4CAF50; /* æ˜ã‚‹ã„ç·‘è‰² */
            color: white;
        }

        .download-button:hover {
            background-color: #388E3C; /* ãƒ›ãƒãƒ¼æ™‚ã¯å°‘ã—æš—ã„ç·‘è‰² */
        }

        /* ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .download-button.downloaded {
            background-color: #9E9E9E; /* ã‚°ãƒ¬ãƒ¼è‰² */
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .download-button.downloaded:hover {
            background-color: #9E9E9E; /* ãƒ›ãƒãƒ¼æ™‚ã‚‚åŒã˜ã‚°ãƒ¬ãƒ¼è‰² */
        }

        /* ã‚¹ãƒãƒ›è¡¨ç¤ºæ™‚ã®ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³èª¿æ•´ */
        @media (max-width: 768px) {
            .carousel-prev,
            .carousel-next,
            .swiper-button-prev,
            .swiper-button-next {
                display: none !important;
            }
        }

        /* ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³æ¨ªã®ãƒªãƒœãƒ³ã¯å‰Šé™¤ */
        .download-button::after {
            display: none;
        }
        
        .mp3-content {
            padding: 0 20px; /* å·¦å³ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¿½åŠ  */
            margin-left: 0;
            width: 100%;
            text-align: center; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸­å¤®æƒãˆ */
            margin-bottom: 10px;
        }
        
        .mp3-title {
            font-size: 20px; /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å°‘ã—å°ã•ã */
            margin-bottom: 15px; /* ã‚¿ã‚¤ãƒˆãƒ«ä¸‹ã®ãƒãƒ¼ã‚¸ãƒ³ã‚’è¿½åŠ  */
            text-align: center; /* ã‚¿ã‚¤ãƒˆãƒ«ã‚’ä¸­å¤®æƒãˆ */
        }
        
        .button-container {
            flex-direction: column; /* ãƒœã‚¿ãƒ³ã‚’ç¸¦ã«é…ç½® */
            gap: 10px;
            width: 100%;
            align-items: center; /* ãƒœã‚¿ãƒ³ã‚’ä¸­å¤®æƒãˆ */
            position: relative;
        }
        
        .play-btn, .download-button {
            width: 80%; /* ãƒœã‚¿ãƒ³å¹…ã‚’ç”»é¢ã«å¯¾ã™ã‚‹å‰²åˆã§è¨­å®š */
            max-width: 250px; /* æœ€å¤§å¹…ã‚’è¨­å®š */
            height: 45px; /* ã‚¿ãƒƒãƒ—ã—ã‚„ã™ã„ã‚ˆã†ã«å°‘ã—å¤§ãã */
            position: relative;
        }
        
        /* ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ */
        .download-button {
            display: inline-flex; /* flexãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å¤‰æ›´ */
            justify-content: center;
            align-items: center;
        }
        
        /* ãƒœã‚¿ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®èª¿æ•´ */
        .button-container {
            position: relative;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-right: 0;
            margin-bottom: 20px;
        }
        
        /* ãƒœã‚¿ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®èª¿æ•´ */
        .mp3-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* å¤§ããªéŸ³ç¬¦ã®ã‚¹ã‚¿ã‚¤ãƒ« - ç”»é¢ä¸­å¤®ã«è¡¨ç¤º */
        .big-music-note {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 6rem;
            color: var(--netflix-red);
            opacity: 0;
            text-shadow: 0 0 10px rgba(229, 9, 20, 0.7);
            animation: bigNoteAppear 1s ease 3.5s forwards;
            z-index: 10;
        }

        /* å¤§ããªéŸ³ç¬¦ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes bigNoteAppear {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0) rotate(-20deg);
            }
            70% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2) rotate(10deg);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) rotate(0);
            }
        }

        /* éŸ³ç¬¦ã®ã‚¹ã‚¿ã‚¤ãƒ«ã¯å‰Šé™¤ï¼ˆã‚‚ã†ä½¿ã‚ãªã„ãŸã‚ï¼‰ */
        .music-note {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSK6V5K"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Loading Spinner -->
    <div id="loading-spinner">
        <div class="netflix-loader">
            <div class="netflix-logo">
                <div class="netflix-logo-container">
                    <div class="netflix-logo-text">VocalSample</div>
                </div>
            </div>
            <!-- ç”»é¢ä¸­å¤®ã«å¤§ããªéŸ³ç¬¦ã‚’è¡¨ç¤º -->
            <div class="big-music-note">â™ª</div>
        </div>
        <!-- èª­ã¿è¾¼ã¿ä¸­ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å‰Šé™¤ -->
    </div>

    <header>
        <div class="header-content">
            <a href="#" class="logo">VocalSample</a>
        </div>
    </header>

    <!-- Carousel Slider -->
    <div class="carousel-section">
        <div id="carouselContainer" class="swiper-container">
            <div id="carouselTrack" class="swiper-wrapper">
                <!-- Carousel slides will be dynamically generated here -->
            </div>
            <div class="swiper-pagination" id="carouselDots"></div>
            <div class="swiper-button-prev carousel-prev"></div>
            <div class="swiper-button-next carousel-next"></div>
        </div>
    </div>

    <!-- Now Playing Header -->
    <div class="now-playing-header" id="nowPlayingHeader" style="display: none;">
        <div class="now-playing-content">
            <div class="now-playing-label">Now Playing:</div>
            <div class="now-playing-title" id="nowPlayingTitle">No track playing</div>
        </div>
    </div>

    <main>
        <div class="content-header">
            <h1>ãƒœãƒ¼ã‚«ãƒ«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³</h1>
        </div>
        <p class="description">å„ã‚µãƒ³ãƒ—ãƒ«ã¯è¦–è´å¯èƒ½ã§ã™<br>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¯ï¼‘åæ§˜é™å®šã«ãªã‚Šã¾ã™<br>ã”è‡ªç”±ã«é¸ã‚“ã§ãã ã•ã„ã­</p>

        <div id="mp3-list">
            <!-- MP3 items will be inserted here by JavaScript -->
        </div>

        <div class="pagination">
            <button id="prev-page" class="pagination-button" disabled><i class="fas fa-chevron-left" style="font-size: 20px; margin-right: 8px;"></i>å‰ã®ãƒšãƒ¼ã‚¸</button>
            <div class="page-info">1 / 3</div>
            <button id="next-page" class="pagination-button" disabled>æ¬¡ã®ãƒšãƒ¼ã‚¸<i class="fas fa-chevron-right" style="font-size: 20px; margin-left: 8px;"></i></button>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <div style="text-align: center; margin: 0 auto; max-width: 600px;">
                    <p style="color: var(--netflix-light-grey); font-size: 0.85rem; line-height: 1.6; margin-bottom: 8px; white-space: nowrap;">å„ã‚µãƒ³ãƒ—ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¯ï¼‘åæ§˜é™å®šã¨ãªã£ã¦ã„ã¾ã™ã€‚</p>
                    <p style="color: var(--netflix-light-grey); font-size: 0.85rem; line-height: 1.6; margin-bottom: 8px; white-space: nowrap;">æœ¬ã‚µã‚¤ãƒˆã®ã‚µãƒ³ãƒ—ãƒ«ã¯Udioã®æœ‰æ–™ãƒ—ãƒ©ãƒ³ã§ç”Ÿæˆã•ã‚ŒãŸæ›²ã§ã™ã€‚</p>
                    <p style="color: var(--netflix-light-grey); font-size: 0.85rem; line-height: 1.6; margin-bottom: 8px; white-space: nowrap;">ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸmp3ã¯ã”è‡ªç”±ã«ãŠä½¿ã„ãã ã•ã„ã€‚</p>
                </div>
            </div>
        </div>
        <div class="copyright">
            ğŸ„¯ 2025 ã‚µãƒ³ãƒ—ãƒ«ãƒœãƒ¼ã‚«ãƒ« | Some Rights Reserved - Copyleft
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <script>
        // Firebaseè¨­å®š
        const firebaseConfig = {
            databaseURL: "https://vocalsample-f9e8e-default-rtdb.firebaseio.com"
        };

        // FirebaseåˆæœŸåŒ–
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        
        // DOMè¦ç´ 
        const mp3List = document.getElementById('mp3-list');
        const prevPageBtn = document.getElementById('prev-page');
        const nextPageBtn = document.getElementById('next-page');
        const pageInfo = document.querySelector('.page-info');
        
        // çŠ¶æ…‹ç®¡ç†å¤‰æ•°
        let allMP3Files = [];
        let currentPage = 1;
        let itemsPerPage = 3; // 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Š3ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ 
        let totalPages = 1;
        let currentPlayingAudio = null;
        let currentPlayingItem = null;
        let swiperInstance = null; // ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ã®Swiperã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã®å¤‰æ•°
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            initApp();
        });
        
        // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–
        function initApp() {
            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°é–‹å§‹æ™‚é–“ã‚’è¨˜éŒ²
            window.loadingStartTime = Date.now();
            
            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ãƒ”ãƒŠãƒ¼ã‚’è¡¨ç¤º
            showLoading();
            
            // MP3ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ - é…å»¶ã•ã›ã‚‹
            setTimeout(() => {
                loadAllMP3Files();
            }, 1000); // 1ç§’é…å»¶
            
            // ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆè¨­å®š
            prevPageBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    stopCurrentAudio();
                    currentPage--;
                    updatePagination();
                    displayMP3List();
                }
            });
            
            nextPageBtn.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    stopCurrentAudio();
                    currentPage++;
                    updatePagination();
                    displayMP3List();
                }
            });
        }
        
        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ãƒ”ãƒŠãƒ¼ã‚’è¡¨ç¤º
        function showLoading() {
            const loadingSpinner = document.getElementById('loading-spinner');
            if (loadingSpinner) {
                loadingSpinner.style.display = 'flex';
            }
        }
        
        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ãƒ”ãƒŠãƒ¼ã‚’éè¡¨ç¤º
        function hideLoading() {
            const loadingSpinner = document.getElementById('loading-spinner');
            if (loadingSpinner) {
                // å³åº§ã«éè¡¨ç¤ºã«ã›ãšã€æœ€ä½ã§ã‚‚ä¸€å®šæ™‚é–“ï¼ˆ5ç§’ï¼‰çµŒéå¾Œã«éè¡¨ç¤ºã«ã™ã‚‹
                const minLoadingTime = 5000; // 4ç§’ã‹ã‚‰5ç§’ã«å»¶é•·
                const startTime = window.loadingStartTime || Date.now();
                const elapsedTime = Date.now() - startTime;
                
                if (elapsedTime >= minLoadingTime) {
                    // ååˆ†ãªæ™‚é–“ãŒçµŒéã—ã¦ã„ã‚Œã°å³æ™‚éè¡¨ç¤º
                    loadingSpinner.style.display = 'none';
                } else {
                    // ã¾ã æœ€ä½è¡¨ç¤ºæ™‚é–“ã«é”ã—ã¦ã„ãªã„å ´åˆã¯ã€æ®‹ã‚Šæ™‚é–“å¾Œã«éè¡¨ç¤º
                    const remainingTime = minLoadingTime - elapsedTime;
                    setTimeout(() => {
                        loadingSpinner.style.display = 'none';
                    }, remainingTime);
                }
            }
        }
        
        // ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
        function formatFileSize(bytes) {
            if (!bytes || bytes === 0) return '0 Bytes';
            
            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(1024));
            
            return parseFloat((bytes / Math.pow(1024, i)).toFixed(1)) + ' ' + sizes[i];
        }

        // MP3ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
        function downloadMP3(file) {
            const a = document.createElement('a');
            a.href = file.data;
            a.download = file.name + '.mp3';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æƒ…å ±ã‚’Firebaseã«ä¿å­˜
            database.ref('downloads/' + file.key).set({
                downloaded: true,
                timestamp: Date.now()
            }).then(() => {
                showNotification(file.name + ' ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
                
                // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
                const downloadButtons = document.querySelectorAll(`.mp3-item[data-key="${file.key}"] .download-button`);
                downloadButtons.forEach(button => {
                    button.disabled = true;
                    button.innerHTML = '<i class="fas fa-check"></i> ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿';
                    button.classList.add('downloaded');
                });
                
                // MP3ãƒªã‚¹ãƒˆã‚’æ›´æ–°
                loadAllMP3Files();
            }).catch(error => {
                console.error('ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æƒ…å ±ã®ä¿å­˜ã‚¨ãƒ©ãƒ¼:', error);
            });
        }

        // ã™ã¹ã¦ã®MP3ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
        function loadAllMP3Files() {
            database.ref('audio').once('value')
                .then((snapshot) => {
                    if (!snapshot.exists()) {
                        mp3List.innerHTML = '<div class="no-items">MP3ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã›ã‚“</div>';
                        hideLoading();
                        return;
                    }
                    
                    // ãƒ‡ãƒ¼ã‚¿ã‚’é…åˆ—ã«å¤‰æ›
                    allMP3Files = [];
                    snapshot.forEach((childSnapshot) => {
                        const key = childSnapshot.key;
                        const fileData = childSnapshot.val();
                        allMP3Files.push({
                            key: key,
                            name: fileData.name || 'No Name',
                            timestamp: fileData.timestamp || 0,
                            size: fileData.size || 0,
                            type: fileData.type || 'audio/mp3',
                            data: fileData.data || null,
                            thumbnail: fileData.thumbnail || null,
                            notionTitle: fileData.notionTitle || '',
                            notionUrl: fileData.notionUrl || '',
                            orderNumber: fileData.orderNumber || null
                        });
                    });
                    
                    // ç•ªå·é †ï¼ˆorderNumberï¼‰ã§ã‚½ãƒ¼ãƒˆ
                    allMP3Files.sort((a, b) => {
                        if (a.orderNumber !== null && b.orderNumber !== null) {
                            return a.orderNumber - b.orderNumber;
                        } else if (a.orderNumber !== null) {
                            return -1;
                        } else if (b.orderNumber !== null) {
                            return 1;
                        } else {
                            return a.timestamp - b.timestamp;
                        }
                    });
                    
                    // ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
                    totalPages = Math.ceil(allMP3Files.length / itemsPerPage);
                    updatePagination();
                    
                    // MP3ãƒªã‚¹ãƒˆè¡¨ç¤º
                    displayMP3List();
                    
                    // ã‚«ãƒ«ãƒ¼ã‚»ãƒ«åˆæœŸåŒ–
                    initCarousel();
                    
                    // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’éè¡¨ç¤º
                    hideLoading();
                })
                .catch((error) => {
                    console.error('MP3ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error);
                    mp3List.innerHTML = '<div class="no-items">ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼</div>';
                    hideLoading();
                    showNotification('ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: ' + error.message, 'error');
                });
        }

        // MP3ãƒªã‚¹ãƒˆè¡¨ç¤º
        function displayMP3List() {
            mp3List.innerHTML = '';
            
            // ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¨ˆç®—
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, allMP3Files.length);
            const currentPageItems = allMP3Files.slice(startIndex, endIndex);
            
            // MP3ã‚¢ã‚¤ãƒ†ãƒ ãŒãªã„å ´åˆ
            if (currentPageItems.length === 0) {
                mp3List.innerHTML = '<div class="no-items">MP3ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã›ã‚“</div>';
                return;
            }
            
            // ç¾åœ¨å†ç”Ÿä¸­ã®ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚­ãƒ¼ã‚’å–å¾—
            const currentPlayingKey = currentPlayingAudio ? currentPlayingAudio.dataset.key : null;
            
            // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æƒ…å ±ã‚’å–å¾—
            database.ref('downloads').once('value').then((snapshot) => {
                let downloadedFiles = {};
                if (snapshot.exists()) {
                    downloadedFiles = snapshot.val();
                }
                
                // MP3ã‚¢ã‚¤ãƒ†ãƒ ã‚’ä½œæˆ
                currentPageItems.forEach((file, index) => {
                    const itemNumber = file.orderNumber !== null ? file.orderNumber : (startIndex + index + 1);
                    const sampleId = itemNumber.toString().padStart(4, '0');
                    const fileName = file.name || `ã‚µãƒ³ãƒ—ãƒ«${sampleId}`;
                    
                    const item = document.createElement('div');
                    item.className = 'mp3-item';
                    item.dataset.key = file.key;
                    
                    // ç•ªå·è¡¨ç¤º
                    const numberDisplay = document.createElement('div');
                    numberDisplay.className = 'mp3-number-display';
                    numberDisplay.textContent = itemNumber;
                    
                    // ã‚µãƒ ãƒã‚¤ãƒ«
                    const thumbnailContainer = document.createElement('div');
                    thumbnailContainer.className = 'mp3-thumbnail';
                    
                    if (file.thumbnail) {
                        thumbnailContainer.innerHTML = `<img src="${file.thumbnail}" alt="${fileName}">`;
                    } else {
                        thumbnailContainer.innerHTML = '<div class="no-image"><i class="fas fa-music"></i></div>';
                    }
                    
                    // ãƒªãƒœãƒ³åŠ¹æœ
                    const ribbonWrapper = document.createElement('div');
                    ribbonWrapper.className = 'ribbon-wrapper';
                    ribbonWrapper.innerHTML = '<div class="ribbon"></div>';
                    
                    // æƒ…å ±ã‚³ãƒ³ãƒ†ãƒŠ
                    const contentContainer = document.createElement('div');
                    contentContainer.className = 'mp3-content';
                    
                    // ã‚¿ã‚¤ãƒˆãƒ«
                    const title = document.createElement('div');
                    title.className = 'mp3-title';
                    title.textContent = fileName;
                    
                    // ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ
                    const buttonContainer = document.createElement('div');
                    buttonContainer.className = 'button-container';
                    
                    // å†ç”Ÿ/åœæ­¢ãƒœã‚¿ãƒ³
                    const playButton = document.createElement('button');
                    playButton.className = 'play-btn';
                    
                    // ç¾åœ¨å†ç”Ÿä¸­ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯
                    const isPlaying = currentPlayingKey === file.key;
                    
                    // ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨­å®š
                    if (isPlaying) {
                        playButton.innerHTML = '<i class="fas fa-pause"></i> åœæ­¢';
                        item.classList.add('now-playing');
                    } else {
                        playButton.innerHTML = '<i class="fas fa-play"></i> å†ç”Ÿ';
                    }
                    
                    // ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªè¦ç´ 
                    const audio = document.createElement('audio');
                    audio.style.display = 'none';
                    audio.dataset.key = file.key;
                    audio.dataset.sampleId = sampleId;
                    audio.dataset.title = fileName;
                    
                    if (file.data) {
                        audio.src = file.data;
                    }
                    
                    // æ—¢ã«å†ç”Ÿä¸­ãªã‚‰ãƒ•ãƒ©ã‚°ã‚’è¿½åŠ 
                    if (isPlaying) {
                        audio.setAttribute('data-playing', 'true');
                    }
                    
                    // å†ç”Ÿåœæ­¢ãƒ­ã‚¸ãƒƒã‚¯
                    playButton.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        // æ—¢ã«å†ç”Ÿä¸­ã®éŸ³å£°ãŒã‚ã‚Œã°åœæ­¢
                        if (currentPlayingAudio) {
                            // ã‚‚ã—åŒã˜éŸ³å£°ãªã‚‰ä¸€æ™‚åœæ­¢ã—ã¦çµ‚äº†
                            if (currentPlayingAudio.dataset.key === file.key) {
                                if (currentPlayingAudio.paused) {
                                    // ä¸€æ™‚åœæ­¢ä¸­ãªã‚‰å†é–‹
                                    currentPlayingAudio.play().catch(err => console.log('å†ç”Ÿã‚¨ãƒ©ãƒ¼:', err));
                                    playButton.innerHTML = '<i class="fas fa-pause"></i> åœæ­¢';
                                } else {
                                    // å†ç”Ÿä¸­ãªã‚‰ä¸€æ™‚åœæ­¢ï¼ˆåœæ­¢ã§ã¯ãªãï¼‰
                                    currentPlayingAudio.pause();
                                    playButton.innerHTML = '<i class="fas fa-play"></i> å†ç”Ÿ';
                                }
                                return;
                            }
                            // ä»–ã®éŸ³å£°ãªã‚‰åœæ­¢
                            stopCurrentAudio();
                        }
                        
                        // å†ç”Ÿ
                        audio.play().catch(err => console.log('å†ç”Ÿã‚¨ãƒ©ãƒ¼:', err));
                        
                        // çŠ¶æ…‹ã‚’æ›´æ–°
                        currentPlayingAudio = audio;
                        currentPlayingItem = item;
                        
                        // ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æ›´æ–°
                        playButton.innerHTML = '<i class="fas fa-pause"></i> åœæ­¢';
                        
                        // å†ç”Ÿä¸­ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
                        item.classList.add('now-playing');
                        
                        // å†ç”Ÿãƒ•ãƒ©ã‚°ã‚’è¨­å®š
                        audio.setAttribute('data-playing', 'true');
                        
                        // Trigger audio change event
                        triggerAudioChangeEvent();
                        
                        // ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’æ›´æ–°
                        updateNowPlayingIndicator();
                    });
                    
                    // ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªçµ‚äº†æ™‚ã‚¤ãƒ™ãƒ³ãƒˆ
                    audio.addEventListener('ended', () => {
                        stopCurrentAudio();
                    });
                    
                    // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³
                    const downloadButton = document.createElement('button');
                    downloadButton.className = 'download-button';
                    
                    // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ã‹ãƒã‚§ãƒƒã‚¯
                    const isDownloaded = downloadedFiles[file.key] && downloadedFiles[file.key].downloaded;
                    
                    if (isDownloaded) {
                        downloadButton.innerHTML = '<i class="fas fa-check"></i> ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿';
                        downloadButton.disabled = true;
                        downloadButton.classList.add('downloaded');
                    } else {
                        downloadButton.innerHTML = '<i class="fas fa-download"></i> ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰';
                        downloadButton.addEventListener('click', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            downloadMP3(file);
                        });
                    }
                    
                    // è¦ç´ ã‚’çµ„ã¿ç«‹ã¦
                    buttonContainer.appendChild(playButton);
                    buttonContainer.appendChild(downloadButton);
                    
                    contentContainer.appendChild(title);
                    contentContainer.appendChild(buttonContainer);
                    
                    item.appendChild(numberDisplay);
                    thumbnailContainer.appendChild(ribbonWrapper);
                    item.appendChild(thumbnailContainer);
                    item.appendChild(contentContainer);
                    item.appendChild(audio);
                    
                    mp3List.appendChild(item);
                });
                
                // ç¾åœ¨å†ç”Ÿä¸­ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒè¦‹ãˆã‚‹ã‚ˆã†ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
                if (currentPlayingItem) {
                    const visiblePlayingItem = mp3List.querySelector(`.mp3-item[data-key="${currentPlayingAudio.dataset.key}"]`);
                    if (visiblePlayingItem) {
                        setTimeout(() => {
                            visiblePlayingItem.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }, 100);
                    }
                }
            }).catch(error => {
                console.error('ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æƒ…å ±ã®å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
                showNotification('ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ', 'error');
            });
        }
        
        // éŸ³å£°å†ç”Ÿ
        function playAudio(item, audio, file) {
            // ç¾åœ¨å†ç”Ÿä¸­ã®éŸ³å£°ãŒã‚ã‚Œã°åœæ­¢
            stopCurrentAudio();
            
            // æ–°ã—ã„éŸ³å£°ã‚’å†ç”Ÿ
            currentPlayingAudio = audio;
            currentPlayingItem = item;
            
            // å†ç”Ÿ
            audio.play().catch(err => console.log('å†ç”Ÿã‚¨ãƒ©ãƒ¼:', err));
            
            // å†ç”Ÿä¸­ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
            item.classList.add('now-playing');
            
            // å†ç”Ÿãƒ•ãƒ©ã‚°ã‚’è¨­å®š
            audio.setAttribute('data-playing', 'true');
            
            // Trigger audio change event
            triggerAudioChangeEvent();
            
            // å†ç”Ÿãƒœã‚¿ãƒ³ã‚’æ›´æ–°
            const playBtn = item.querySelector('.play-btn');
            if (playBtn) {
                playBtn.innerHTML = '<i class="fas fa-pause"></i> åœæ­¢';
            }
            
            // ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’æ›´æ–°
            updateNowPlayingIndicator();
        }
        
        // ç¾åœ¨ã®å†ç”Ÿã‚’åœæ­¢
        function stopCurrentAudio() {
            // ã™ã¹ã¦ã®å†ç”Ÿä¸­ã®ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚’åœæ­¢
            document.querySelectorAll('audio[data-playing="true"]').forEach(audio => {
                audio.pause();
                // å†ç”Ÿä½ç½®ã‚’ãƒªã‚»ãƒƒãƒˆã—ãªã„ (currentTime = 0 ã‚’å‰Šé™¤)
                audio.removeAttribute('data-playing');
            });
            
            if (currentPlayingAudio) {
                currentPlayingAudio.pause();
                // å†ç”Ÿä½ç½®ã‚’ãƒªã‚»ãƒƒãƒˆã—ãªã„ (currentTime = 0 ã‚’å‰Šé™¤)
                
                // å†ç”Ÿãƒœã‚¿ãƒ³ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’æˆ»ã™
                if (currentPlayingItem) {
                    const playBtn = currentPlayingItem.querySelector('.play-btn');
                    if (playBtn) {
                        playBtn.innerHTML = '<i class="fas fa-play"></i> å†ç”Ÿ';
                    }
                    
                    // MP3ã‚¢ã‚¤ãƒ†ãƒ ã‹ã‚‰å†ç”Ÿä¸­ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
                    currentPlayingItem.classList.remove('now-playing');
                }
                
                currentPlayingAudio = null;
                currentPlayingItem = null;
                
                // Trigger audio change event
                triggerAudioChangeEvent();
            }
            
            // ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ã®å†ç”ŸçŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
            document.querySelectorAll('.swiper-slide').forEach(slide => {
                slide.classList.remove('now-playing');
                const playButton = slide.querySelector('.carousel-play-button');
                if (playButton) {
                    playButton.innerHTML = '<i class="fas fa-play"></i>';
                }
                
                const slideAudio = slide.querySelector('audio');
                if (slideAudio) {
                    slideAudio.pause();
                    // å†ç”Ÿä½ç½®ã‚’ãƒªã‚»ãƒƒãƒˆã—ãªã„ (currentTime = 0 ã‚’å‰Šé™¤)
                    slideAudio.removeAttribute('data-playing');
                }
            });
            
            // ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ã®è‡ªå‹•å†ç”Ÿã‚’å†é–‹
            if (swiperInstance && swiperInstance.autoplay) {
                swiperInstance.autoplay.start();
            }
            
            // Now Playing ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’æ›´æ–°
            updateNowPlayingIndicator();
        }
        
        // ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³æ›´æ–°
        function updatePagination() {
            pageInfo.textContent = `${currentPage} / ${totalPages}`;
            
            prevPageBtn.disabled = currentPage <= 1;
            nextPageBtn.disabled = currentPage >= totalPages;
            
            prevPageBtn.innerHTML = '<i class="fas fa-chevron-left" style="font-size: 20px; margin-right: 8px;"></i>å‰ã®ãƒšãƒ¼ã‚¸';
            nextPageBtn.innerHTML = 'æ¬¡ã®ãƒšãƒ¼ã‚¸<i class="fas fa-chevron-right" style="font-size: 20px; margin-left: 8px;"></i>';
        }
        
        // ã‚«ãƒ«ãƒ¼ã‚»ãƒ«åˆæœŸåŒ–
        function initCarousel() {
            const carouselTrack = document.getElementById('carouselTrack');
            const carouselContainer = document.getElementById('carouselContainer');
            
            if (!carouselTrack || !allMP3Files || allMP3Files.length === 0) {
                return;
            }
            
            // æœ€å¤§8å€‹ã¾ã§ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¡¨ç¤º
            const featuredItems = allMP3Files.slice(0, 8);
            
            // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æƒ…å ±ã‚’å–å¾—
            database.ref('downloads').once('value').then((snapshot) => {
                let downloadedFiles = {};
                if (snapshot.exists()) {
                    downloadedFiles = snapshot.val();
                }

                // ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ç”Ÿæˆ
                carouselTrack.innerHTML = ''; // Clear existing slides
                featuredItems.forEach((file, index) => {
                    const slide = document.createElement('div');
                    slide.className = 'swiper-slide';
                    
                    // ã‚µãƒ³ãƒ—ãƒ«ç•ªå·
                    const itemNumber = file.orderNumber || (index + 1);
                    const sampleId = itemNumber.toString().padStart(4, '0');
                    // Use actual file name from Firebase
                    const fileName = file.name || `ã‚µãƒ³ãƒ—ãƒ«${sampleId}`;
                    
                    // ã‚¹ãƒ©ã‚¤ãƒ‰HTML
                    slide.innerHTML = `
                        <div class="carousel-slide" data-key="${file.key}">
                            <a href="#" class="carousel-link">
                                <img class="carousel-image fade-in" 
                                    src="${file.thumbnail || 'https://via.placeholder.com/380x240/333/666?text=No+Image'}" 
                                    alt="${fileName}" 
                                    fetchpriority="high" />
                                <div class="carousel-overlay">
                                    <div class="carousel-content">
                                        <button class="carousel-play-button">
                                            <i class="fas fa-play"></i>
                                        </button>
                                        <div class="carousel-title">${fileName}</div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    `;
                    
                    // ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªè¦ç´ 
                    const audio = document.createElement('audio');
                    audio.style.display = 'none';
                    audio.dataset.key = file.key;
                    audio.dataset.sampleId = sampleId;
                    audio.dataset.title = fileName;
                    
                    if (file.data) {
                        audio.src = file.data;
                    }
                    
                    // ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªçµ‚äº†æ™‚ã‚¤ãƒ™ãƒ³ãƒˆ
                    audio.addEventListener('ended', () => {
                        const playButton = slide.querySelector('.carousel-play-button');
                        if (playButton) {
                            playButton.innerHTML = '<i class="fas fa-play"></i>';
                        }
                        slide.classList.remove('now-playing');
                        audio.removeAttribute('data-playing');
                        updateNowPlayingIndicator();
                        
                        // ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãŒçµ‚äº†ã—ãŸã‚‰ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ã®è‡ªå‹•å†ç”Ÿã‚’å†é–‹
                        if (swiperInstance && swiperInstance.autoplay) {
                            swiperInstance.autoplay.start();
                        }
                    });
                    
                    slide.appendChild(audio);
                    carouselTrack.appendChild(slide);
                    
                    // å†ç”Ÿãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
                    const playButton = slide.querySelector('.carousel-play-button');
                    playButton.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        // ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã®å†ç”Ÿ/åœæ­¢ã‚’åˆ‡ã‚Šæ›¿ãˆ
                        if (audio.paused) {
                            // ç¾åœ¨ã®ã‚¿ã‚¤ãƒ ãŒã»ã¼0ã¾ãŸã¯çµ‚äº†ã—ã¦ã„ã‚‹å ´åˆã¯ä»–ã®éŸ³å£°ã‚’åœæ­¢
                            if (audio.currentTime < 0.1 || audio.ended) {
                                // ä»–ã®ã™ã¹ã¦ã®éŸ³å£°ã‚’åœæ­¢
                                document.querySelectorAll('.swiper-slide').forEach(s => {
                                    if (s !== slide) {
                                        const a = s.querySelector('audio');
                                        if (a) {
                                            a.pause();
                                            a.removeAttribute('data-playing');
                                        }
                                        const pb = s.querySelector('.carousel-play-button');
                                        if (pb) {
                                            pb.innerHTML = '<i class="fas fa-play"></i>';
                                        }
                                        s.classList.remove('now-playing');
                                    }
                                });
                                
                                // MP3ãƒªã‚¹ãƒˆã®å†ç”Ÿã‚‚åœæ­¢
                                stopCurrentAudio();
                            }
                            
                            // é¸æŠã—ãŸã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚’å†ç”Ÿ
                            audio.play().catch(err => console.log('å†ç”Ÿã‚¨ãƒ©ãƒ¼:', err));
                            playButton.innerHTML = '<i class="fas fa-pause"></i>';
                            slide.classList.add('now-playing');
                            audio.setAttribute('data-playing', 'true');
                            
                            // ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ã®è‡ªå‹•å†ç”Ÿã‚’åœæ­¢
                            if (swiperInstance && swiperInstance.autoplay) {
                                swiperInstance.autoplay.stop();
                            }
                            
                            // Trigger audio change event
                            triggerAudioChangeEvent();
                            updateNowPlayingIndicator();
                        } else {
                            // ç¾åœ¨å†ç”Ÿä¸­ã®ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚’ä¸€æ™‚åœæ­¢
                            audio.pause();
                            playButton.innerHTML = '<i class="fas fa-play"></i>';
                            // now-playing ã‚¯ãƒ©ã‚¹ã¯æ®‹ã—ã¦å†ç”Ÿä¸­ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç¶­æŒ
                            // slide.classList.remove('now-playing');
                            
                            // ä¸€æ™‚åœæ­¢ã—ã¦ã‚‚ data-playing å±æ€§ã¯æ®‹ã—ã¦çŠ¶æ…‹ã‚’ä¿æŒ
                            // audio.removeAttribute('data-playing');
                            
                            // ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ã®è‡ªå‹•å†ç”Ÿã¯åœæ­¢ã—ãŸã¾ã¾ã«ã™ã‚‹
                            // ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ãŒè‡ªå‹•ã§æ¬¡ã«ç§»å‹•ã™ã‚‹ã¨UIã¨å†ç”ŸçŠ¶æ…‹ãŒä¸ä¸€è‡´ã«ãªã‚‹ãŸã‚
                            
                            // Trigger audio change event
                            triggerAudioChangeEvent();
                            updateNowPlayingIndicator();
                        }
                    });
                    
                    // ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¯ãƒªãƒƒã‚¯ã§ãƒšãƒ¼ã‚¸ç§»å‹•
                    slide.querySelector('.carousel-link').addEventListener('click', (e) => {
                        if (!e.target.closest('.carousel-play-button')) {
                            e.preventDefault();
                            // ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ç‰¹å®š
                            const fileIndex = allMP3Files.findIndex(f => 
                                f.key === file.key || 
                                (f.orderNumber && file.orderNumber && f.orderNumber === file.orderNumber)
                            );
                            
                            if (fileIndex !== -1) {
                                const targetPage = Math.floor(fileIndex / itemsPerPage) + 1;
                                if (targetPage !== currentPage) {
                                    stopCurrentAudio();
                                    currentPage = targetPage;
                                    updatePagination();
                                    displayMP3List();
                                    
                                    // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
                                    setTimeout(() => {
                                        const targetItem = document.querySelector(`#mp3-list .mp3-item:nth-child(${fileIndex % itemsPerPage + 1})`);
                                        if (targetItem) {
                                            targetItem.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                        }
                                    }, 100);
                                }
                            }
                        }
                    });
                });
                
                // Swiperã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
                if (swiperInstance) {
                    swiperInstance.destroy(true, true);
                }
                swiperInstance = new Swiper(carouselContainer, {
                    slidesPerView: 'auto',
                    centeredSlides: true,
                    spaceBetween: 30,
                    loop: true,
                    loopedSlides: featuredItems.length,
                    speed: 700,
                    autoplay: {
                        delay: 5000,
                        disableOnInteraction: false
                    },
                    pagination: {
                        el: '#carouselDots',
                        clickable: true
                    },
                    navigation: {
                        nextEl: '.carousel-next',
                        prevEl: '.carousel-prev'
                    },
                    breakpoints: {
                        320: {
                            slidesPerView: 1.2,
                            spaceBetween: 15
                        },
                        768: {
                            slidesPerView: 1.8,
                            spaceBetween: 20
                        },
                        1024: {
                            slidesPerView: 2.5,
                            spaceBetween: 30
                        },
                        1440: {
                            slidesPerView: 3.2,
                            spaceBetween: 40
                        }
                    },
                    effect: 'coverflow',
                    coverflowEffect: {
                        rotate: 0,
                        stretch: 0,
                        depth: 100,
                        modifier: 1,
                        slideShadows: false
                    }
                });
            }).catch(error => {
                console.error('ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æƒ…å ±ã®å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
            });
        }
        
        // é€šçŸ¥è¡¨ç¤º
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨ã™ã‚‹ãŸã‚ã®ãƒªãƒ•ãƒ­ãƒ¼å¼·åˆ¶
            notification.offsetHeight;
            
            // è¡¨ç¤º
            notification.classList.add('show');
            
            // ä¸€å®šæ™‚é–“å¾Œã«éè¡¨ç¤º
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Helper function to check if an element is in the viewport
        function isElementInViewport(el) {
            const rect = el.getBoundingClientRect();
            return (
                rect.top >= 0 &&
                rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.right <= (window.innerWidth || document.documentElement.clientWidth)
            );
        }

        // Helper function to trigger audio change event
        function triggerAudioChangeEvent() {
            const event = new CustomEvent('audioChange');
            document.dispatchEvent(event);
        }

        // Update the now playing indicator
        function updateNowPlayingIndicator() {
            // Remove now-playing class from all MP3 cards
            document.querySelectorAll('.mp3-card.now-playing').forEach(card => {
                card.classList.remove('now-playing');
            });
            
            // Remove existing now-playing indicators
            document.querySelectorAll('.now-playing-indicator').forEach(indicator => {
                indicator.remove();
            });
            
            // Get the now playing header and title elements
            const nowPlayingHeader = document.getElementById('nowPlayingHeader');
            const nowPlayingTitle = document.getElementById('nowPlayingTitle');
            
            // Check if any audio is currently playing
            const playingAudio = document.querySelector('audio[data-playing="true"]');
            
            if (playingAudio) {
                // Now Playing Headerã¯å¸¸ã«éè¡¨ç¤ºã«ã™ã‚‹
                if (nowPlayingHeader) {
                    nowPlayingHeader.style.display = 'none';
                }
                
                // Find the MP3 card that corresponds to the playing audio
                const mp3Card = document.querySelector(`.mp3-card[data-key="${playingAudio.getAttribute('data-key')}"]`);
                
                if (mp3Card) {
                    // Add now-playing class to the card
                    mp3Card.classList.add('now-playing');
                    
                    // Create the now-playing indicator
                    const indicator = document.createElement('div');
                    indicator.className = 'now-playing-indicator';
                    indicator.innerHTML = '<span>Now Playing</span>';
                    
                    // Find the thumbnail element in the card
                    const thumbnail = mp3Card.querySelector('.mp3-card-thumbnail');
                    if (thumbnail) {
                        // Append the indicator to the thumbnail
                        thumbnail.appendChild(indicator);
                    }
                    
                    // Scroll the card into view if it's not visible
                    if (!isElementInViewport(mp3Card)) {
                        mp3Card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
            } else {
                // If no audio is playing, update the header accordingly
                if (nowPlayingTitle) {
                    nowPlayingTitle.textContent = 'No track playing';
                }
                
                if (nowPlayingHeader) {
                    nowPlayingHeader.style.display = 'none';
                }
            }
        }
        
        // Listen for audio change events
        document.addEventListener('audioChange', updateNowPlayingIndicator);

        // Override the initApp function to maintain playback state
        const originalInitApp = initApp;
        initApp = function() {
            originalInitApp();
            
            // Update the now playing indicator on page load
            setTimeout(updateNowPlayingIndicator, 500);
        };
    </script>
</body>
</html> 
